<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
        "http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>
    <!--<constant name="struts.devMode" value="true"/>-->
    <package name="log" extends="struts-default">

        <interceptors>
            <!--定义权限验证拦截器 -->
            <interceptor name="myLoginValidation"
                         class="interceptors.com.LogInValidationInterceptor">
            </interceptor>
            <!--定义拦截器栈 -->
            <interceptor-stack name="loginValidation">
                <interceptor-ref name="defaultStack" />
                <interceptor-ref name="myLoginValidation" />
            </interceptor-stack>
        </interceptors>

        <!-- 定义默认拦截器 -->
        <default-interceptor-ref name="loginValidation" />

        <action name="logIn" class="actions.logIn.LogInAction" method="log">
            <result name="success">/ImageTestJSP.jsp</result>
            <result name="fail">/登录失败又去哪？</result>
        </action>

        <action name="appLogIn" class="actions.logIn.LogInAction" method="appLog">
            <result name="success"></result>
        </action>

        <action name="createTeam" class="actions.team.CreateTeamAction" method="createTeam">
            <result name="success">/这里放置登录以后界面</result>
            <result name="fail">/登录失败又去哪？</result>
        </action>

        <action name="appCreateTeam" class="actions.team.CreateTeamAction" method="appCreateTeam">
            <result name="success">/这里放置登录以后界面</result>
            <result name="fail">/登录失败又去哪？</result>
        </action>
        <!--网页上传头像-->
        <action name="uploadPhoto" class="actions.user.UploadPhoto" method="uploadPic">
            <result name="success">/照片上传成功</result>
            <result name="login">/login.jsp</result>
            <interceptor-ref name="fileUpload">
                <!-- 限制2兆大小 -->
                <param name="maximumSize">2097152</param>
                <param name="allowedTypes">
                    image/png, image/jpg, image/jpeg, image/bmp
                </param>
            </interceptor-ref>
            <interceptor-ref name="defaultStack" />
        </action>
        <!--手机上传头像-->
        <action name="appUploadPhoto" class="actions.user.UploadPhoto" method="appUploadPic">
            <interceptor-ref name="fileUpload">
                <!-- 限制2兆大小 -->
                <param name="maximumSize">2097152</param>
                <param name="allowedTypes">
                    image/png, image/jpg, image/jpeg, image/bmp
                </param>
            </interceptor-ref>
            <interceptor-ref name="defaultStack" />
        </action>

        <action name="downloadAction" class="actions.com.downloadActoin" method="downloadFiles">
            <result type="stream">
                <!-- 文件类型 —— application/octet-stream 表示无限制 -->
                <param name="contentType">application/octet-stream</param>
                <!-- 流对象名 —— 去找Action中的getInputStream方法 -->
                <param name="inputName">inputStream</param>
                <!-- 文件名 —— 将调用该Action中的getFileName方法 -->
                <param name="contentDisposition">attachment;filename="${fileName}"</param>
                <param name="bufferSize">4096</param>
            </result>
        </action>
        <!--学生上传代码-->
        <action name="uploadCode" class="actions.code.codeUploadAction" method="uploadCode">
            <result name="success">/代码上传成功</result>
            <interceptor-ref name="fileUpload">
                <param name="maximumSize">2097152</param>
            </interceptor-ref>
        </action>
        <!--学生上传文件-->
        <action name="studentUploadFile" class="actions.file.fileUploadAction" method="studentUploadFile">
            <result name="success">/文件上传成功</result>
            <interceptor-ref name="fileUpload">
                <param name="maximumSize">50000000</param>
            </interceptor-ref>
        </action>

        <!-- ========================================================================================-->
        <action name="joinTeam" class="actions.team.JoinTeamAction" method="joinTeam">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="appJoinTeam" class="actions.team.JoinTeamAction" method="appJoinTeam">
            <result name="success">成功</result>
            <result name="fail">失败</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="getMyJoinTeam" class="actions.team.GetMyJoinTeamsAction" method="getMyJoinTeam">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="appGetMyJoinTeam" class="actions.team.GetMyJoinTeamsAction" method="appGetMyJoinTeam">
            <result name="success">成功</result>
            <result name="fail">失败</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="getMyJoinTeamInfo" class="actions.team.GetMyJoinTeamInfoAction" method="getMyJoinTeamInfo">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
            <result name="login">/login.jsp</result>
        </action>

        <action name="appGetMyJoinTeamInfo" class="actions.team.GetMyJoinTeamInfoAction" method="appGetMyJoinTeamInfo">
            <result name="success">成功</result>
            <result name="fail">失败</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="addStudent" class="actions.student.AddStudentAction" method="addStudent">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="appAddStudent" class="actions.student.AddStudentAction" method="appAddStudent">
            <result name="success">成功</result>
            <result name="fail">失败</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="addTeacher" class="actions.teacher.AddTeacherAction" method="addTeacher">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="appAddTeacher" class="actions.teacher.AddTeacherAction" method="appAddTeacher">
            <result name="success">成功</result>
            <result name="fail">失败</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="addManager" class="actions.manager.AddManagerAction" method="addManager">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="appAddManager" class="actions.manager.AddManagerAction" method="appAddManager">
            <result name="success">成功</result>
            <result name="fail">失败</result>
            <result name="login">/登录界面</result>
        </action>

        createProject
        <action name="createProject" class="actions.project.CreateProjectAction" method="createProject">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
            <result name="login">/登录界面</result>
        </action>

        <action name="appCreateProject" class="actions.project.CreateProjectAction" method="appCreateProject">
            <result name="success">成功</result>
            <result name="fail">失败</result>
            <result name="login">/登录界面</result>
        </action>

    </package>
</struts>